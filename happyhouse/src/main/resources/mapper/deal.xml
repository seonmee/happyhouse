<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.house.dao.DealDaoImpl">

 <select id="officeRentList" parameterType ="DealDto" resultType="DealDto">
     SELECT dong, office_name name, gungu_code gunguCode, deposit, build_year buildYear, deal_year dealYear, deal_month dealMonth, deal_day dealDay, area, base_address_floor floor, jibun, rent_money rentMoney 
       FROM officerent
      <if test="type == 1">
      WHERE rent_money > 0
      </if>
      <if test="type == 2">
      WHERE rent_money = 0
      </if>
   ORDER BY buildYear DESC
      LIMIT #{start}, #{spp}
 </select>
 
 <select id="getTotCntOfficeRent" parameterType="DealDto" resultType="int">
     SELECT count(no) 
       FROM officerent
       <if test="type = 1">
      WHERE rent_money > 0
      </if>
      <if test="type = 2">
      WHERE rent_money = 0
      </if>
 </select>
 
 <select id="officeDealList" parameterType ="DealDto" resultType="DealDto">
     SELECT dong, office_name name, gungu_code gunguCode, deal_amount dealAmount, build_year buildYear, deal_year dealYear, deal_month dealMonth, deal_day dealDay, area, base_address_floor floor, jibun 
       FROM officedeal
   ORDER BY buildYear DESC
      LIMIT #{start}, #{spp}
 </select>
 
 <select id="getTotCntOfficeDeal" parameterType="DealDto" resultType="int">
     SELECT count(no) 
       FROM officedeal
 </select>
 
  <select id="homeRentList" parameterType ="DealDto" resultType="DealDto">
    
 </select>
 
 <select id="getTotCntHomeRent" parameterType="DealDto" resultType="int">
     SELECT count(no) 
       FROM homerent
       <if test="type = 1">
      WHERE rent_money > 0
      </if>
      <if test="type = 2">
      WHERE rent_money = 0
      </if>
 </select>
 
 <select id="homeDealList" parameterType ="DealDto" resultType="DealDto">
     SELECT dong, home_name name, gungu_code gunguCode, deal_amount dealAmount, build_year buildYear, deal_year dealYear, deal_month dealMonth, deal_day dealDay, area, base_address_floor floor, jibun 
       FROM homedeal
   ORDER BY buildYear DESC
      LIMIT #{start}, #{spp}
 </select>
 
 <select id="getTotCntHomeDeal" parameterType="DealDto" resultType="int">
     SELECT count(no) 
       FROM homedeal
 </select>
 
 <select id="aptRentList" parameterType ="DealDto" resultType="DealDto">
    
 </select>
 
 <select id="getTotCntAptRent" parameterType="DealDto" resultType="int">
     SELECT count(no) 
       FROM aptrent
       <if test="type = 1">
      WHERE rent_money > 0
      </if>
      <if test="type = 2">
      WHERE rent_money = 0
      </if>
 </select>
 
 <select id="aptDealList" parameterType ="DealDto" resultType="DealDto">
     SELECT dong, apt_name name, gungu_code gunguCode, deal_amount dealAmount, build_year buildYear, deal_year dealYear, deal_month dealMonth, deal_day dealDay, area, base_address_floor floor, jibun 
       FROM aptdeal
   ORDER BY buildYear DESC
      LIMIT #{start}, #{spp}
 </select>
 
 <select id="getTotCntAptDeal" parameterType="DealDto" resultType="int">
     SELECT count(no) 
       FROM aptdeal
 </select>
	
</mapper>